<% if flash[:success].present? %>
  <div class="alert alert-success custom_alert" role="alert">
    <%= flash[:success] %>
  </div>
<% end %>

<h1 class="text-center">Bienvenue sur <span style="color: #ff60aa;">The Gossip Project</span></h1>
<p class="mb-5 text-center" style="color: black;">Parcours le mur des <span style="color: #ff60aa;">gossips</span> pour voir les dernières nouveautés</p>

<div class="container">
  <div class="row justify-content-center mb-5">
    <% @gossips.each do |gossip| %>
      <div class="card mb-3 mx-3 card-home" style="width: 18rem; height: 18rem; max-height: 18rem">
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title" style="color: #ff60aa;"><%= truncate(gossip.title, length: 24, separator: '...') %></h5>
          <p class="card-text"><em><%= truncate(gossip.content, length: 100, separator: '...') %></em></p>
          <p class="card-text"><em>Tags :</em>
            <% gossip.tags.each do |tag| %>
              <%= tag.title %>
            <% end %>
          </p>
          <div class="d-flex justify-content-between align-items-center">
            <i class="fa-solid fa-heart" style="color: #ff60aa;"></i>
            <span><%= gossip.likes.count %></span>
            <i class="fa-regular fa-comment" style="color: #ff60aa;"></i>
            <span><%= gossip.comments_count %></span>
            <a href="<%= gossip_path(gossip.id) %>" class="btn btn-primary justify-content-end">Voir le potin</a>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
